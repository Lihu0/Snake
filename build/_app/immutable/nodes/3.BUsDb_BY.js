import{r as N,q as Je,u as le,l as Ne,h as Z,g as Be,m as V,k as se,j as Ue,e as fe,d as L,c as M,f as de,a as Y,n as C,b as T,v as $e,$ as Ae,o as et,t as pe}from"../chunks/disclose-version.DRDAhnZQ.js";import{j as G,r as j,l as De,n as tt,s as H,M as Re,c as me,Y as nt,Z as rt,z as it,A as lt,e as X,y as st,_ as at,O as Le,q as Pe,x as ot,p as q,a as F,$ as te,u as ct,d as P}from"../chunks/runtime.D2cl73cO.js";import{t as Oe,r as K,a as ne,s as ae,p as Me,b as Te,i as ce}from"../chunks/props.cbL7QN02.js";import{E as Ye,f as je,g as re,i as We,j as ue,n as ft,k as J,d as dt,l as ut,t as Ce,s as ze}from"../chunks/events.DJL1zfXt.js";import{i as U,u as ht,s as pt,p as mt}from"../chunks/stores.DqbPb_DN.js";import{s as gt,b as vt}from"../chunks/attributes.Cod7EF_7.js";function _t(e,t){return{a:t,d:null,f:e,v:[],e:null,p:me,r:null,s:[],t:nt}}function wt(e,t,i){return{a:null,d:null,e:null,i:t,k:i,v:e,p:me,r:null,s:null,t:rt}}function yt(e,t,i,r,n,l,o){const u=(i&re)!==0,c=_t(i,e);let p=null;Ne(e,u);let g,f=null,h=null,k=!1;c.r=d=>{const v=p,I=v.s;I.add(d),d.f(()=>{I.delete(d),I.size===0&&v.e!==null&&(v.d!==null&&(N(v.d),v.d=null),G(v.e),v.e=null)})};const _=()=>{const d={d:null,e:null,s:new Set,p},v=j(()=>{const I=c.d;I!==null&&(N(I),c.d=null);let E=c.a;(c.f&re)!==0&&(Z?E=E.firstChild:(E=Be(),c.a.appendChild(E))),l(E),d.d=c.d,c.d=null},c,!0);d.e=v,p=d},x=d=>{const v=d.f,I=(v&re)!==0,E=d.a;o(g,d,E,I,n,v,!0,f)},y=j(()=>{var I,E;const d=t();g=De(d)?d:d==null?[]:Array.from(d),r!==null?f=g.map(r):i&Ye||g.map(tt);const v=g.length;if(Z){const s=((E=(I=V)==null?void 0:I[0])==null?void 0:E.data)==="ssr:each_else";s&&v||!s&&!v?(N(V),se(null),k=!0):s&&V.shift()}if(l!==null){if(v===0){if(c.v.length!==0||h===null){x(c),_();return}}else if(c.v.length===0&&p!==null){const s=p,R=s.s;R.size===0?s.d!==null&&(N(s.d),s.d=null):Oe(R,"out")}}h!==null&&Re(h)},c,!1);h=j(x,c,!0),k&&se([]),y.ondestroy=()=>{const d=c.f,v=c.a,I=(d&re)!==0;let E=p;for(;E!==null;){const s=E.d;s!==null&&N(s);const R=E.e;R!==null&&G(R),E=E.p}o([],c,v,I,n,d,!1,f),G(h)},c.e=y}function xt(e,t,i,r,n){yt(e,t,i,null,r,n,bt)}function bt(e,t,i,r,n,l,o){l&ue&&!it(e)&&!(lt in e)&&(l^=ue);var u=t.v,c=t.s,p=u.length,g=e.length,f=Math.max(p,g),h=0,k,_;if(c.length!==0&&Et(c),g===0)for(k=[],r&&p!==0&&Je(i);h<f;)_=u[h++],he(_,c,o,r);else{var x;let I=!1;if(k=Array(g),Z){for(var y=V,d=y[0];h<f;h++){var v=Ue(d);if(se(v),!v){I=!0;break}x=e[h],_=He(x,null,h,n,l),k[h]=_,d=v[v.length-1].nextSibling.nextSibling}kt(y,d)}for(;h<f;h++)h>=p?(x=e[h],_=He(x,null,h,n,l),k[h]=_,It(_,i,r,null)):h>=g?(_=u[h],he(_,c,o)):(x=e[h],_=u[h],k[h]=_,St(_,x,h,l));I&&se([])}t.v=k}function kt(e,t){if(t!==null){var i=e.indexOf(t);i!==-1&&e.length>i+1&&N(e.slice(i))}}function It(e,t,i,r){var n=e.d;return r===null?i?le(n,t,null):le(n,t.parentNode,t):le(n,null,r)}function Et(e){var t=e.length;if(t>0){for(var i=0,r,n;i<t;i++)r=e[i],n=r.r,n!==null&&(r.r=null,he(r,null,!1));e.length=0}}function St(e,t,i,r){const n=e.v;r&je&&H(n,t);const l=e.s,o=(r&We)!==0,u=e.a;l!==null&&r&Ye&&u!==null&&u(e,l),o?H(e.i,i):e.i=i}function he(e,t,i,r=!1){const n=e.s;if(i&&n!==null){for(let o of n)o.r==="key"&&n.delete(o);if(n.size===0)e.s=null;else{Oe(n,"out"),t!==null&&t.push(e);return}}const l=e.d;!r&&l!==null&&N(l),G(e.e)}function He(e,t,i,r,n){const o=(n&je)===0?e:n&ue?X(e):st(e),u=n&We?X(i):i,c=wt(o,u,t),p=j(g=>{r(null,g.v,g.i)},c,!0);return c.e=p,c}function At(e,t,i){const r=e.d;if(De(r)){for(let n=0;n<r.length;n++)if(r[n]===t){r[n]=i;break}}else r===t&&(e.d=i)}function Lt(e,t,i,r){const n={d:null,e:null,p:me,r:null,t:at};Ne(e);let l=!1,o,u=null;const c=j(()=>{o=t(),l&&Re(p),l=!0},n,!1),p=j(()=>{var _,x;const g=i||o==="svg"?ft:i===!1||((_=e.parentElement)==null?void 0:_.tagName)==="foreignObject"?null:((x=e.parentElement)==null?void 0:x.namespaceURI)??null,f=o?Z?V[0]:g?document.createElementNS(g,o):document.createElement(o):null,h=u;if(h!==null&&(n.d=null),u=f,u!==null&&r!==void 0){let y;Z?y=u.firstChild:(y=Be(),u.appendChild(y)),r(u,y)}const k=h!==null;if(k&&N(h),u!==null&&(le(u,null,e),k)){const y=n.p;At(y,h,u)}},n,!0);c.ondestroy=()=>{u!==null&&(N(u),n.d=null,u=null),G(p)},n.e=c}function Pt(e,t,i){var r=void 0,n=!1;Le(()=>{if(i){var l=i();Pe(()=>{if(r===void 0)r=t(e,l)||{},n=!!(r!=null&&r.update);else{var o=r.update;typeof o=="function"&&o(l)}}),n&&ot(l)}else Pe(()=>r=t(e))}),Le(()=>{if(r!==void 0){var l=r.destroy;if(typeof l=="function")return()=>{l()}}})}const Mt="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='290mm'%20height='290mm'%20viewBox='0%200%20210%20297'%20version='1.1'%20id='svg5'%20inkscape:version='1.1.2%20(b8e25be8,%202022-02-05)'%20sodipodi:docname='apple.svg'%20xmlns:inkscape='http://www.inkscape.org/namespaces/inkscape'%20xmlns:sodipodi='http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3csodipodi:namedview%20id='namedview7'%20pagecolor='%23ffffff'%20bordercolor='%23666666'%20borderopacity='1.0'%20inkscape:pageshadow='2'%20inkscape:pageopacity='0.0'%20inkscape:pagecheckerboard='0'%20inkscape:document-units='mm'%20showgrid='false'%20inkscape:snap-nodes='false'%20inkscape:zoom='0.53561134'%20inkscape:cx='199.77172'%20inkscape:cy='673.06267'%20inkscape:window-width='1440'%20inkscape:window-height='741'%20inkscape:window-x='0'%20inkscape:window-y='25'%20inkscape:window-maximized='0'%20inkscape:current-layer='layer1'%20/%3e%3cdefs%20id='defs2'%20/%3e%3cg%20inkscape:label='Layer%201'%20inkscape:groupmode='layer'%20id='layer1'%3e%3cpath%20id='path1364'%20style='fill:%23008000;stroke-width:0.666996'%20d='m%2063.617929,74.099616%20c%20-0.06154,-0.0018%20-0.124131,-0.0012%20-0.186297,0.0025%20-2.639996,0.172432%20-3.191866,3.233046%20-3.082253,5.365931%20-0.05765,5.142628%20-0.72549,10.484181%200.846771,15.469906%202.431031,6.240867%206.325736,11.818137%2010.89211,16.682727%2038.69777,2.1112%2034.07885,12.96697%2038.90728,-19.404125%200.10301,-3.360479%20-2.78842,-5.627301%20-5.38808,-7.193658%20-5.02102,-3.574102%20-10.745109,-6.458276%20-16.99018,-6.877104%20-7.95014,-0.919636%20-16.244023,-0.549236%20-23.742217,-3.768794%20-0.4104,-0.127812%20-0.82638,-0.265152%20-1.257131,-0.277479%20z'%20sodipodi:nodetypes='ccccccccccc'%20/%3e%3cpath%20id='path1056'%20style='fill:%23552200;stroke-width:0.666996'%20d='m%20110.69269,68.46576%20c%20-4.36695,6.340726%20-6.77292,13.812846%20-7.78329,21.39861%20-1.02328,7.774934%20-1.5148,15.69588%20-0.71272,23.51198%200.59097,3.66904%205.71429,6.03136%208.50635,3.15354%202.91337,-2.63614%202.07312,-6.89543%202.64268,-10.37805%200.73362,-8.539585%203.70026,-16.952568%208.57862,-23.949618%201.4182,-1.694168%201.57815,-4.4348%20-0.31101,-5.850102%20-2.19155,-1.593809%20-4.7201,-2.807638%20-6.32291,-5.099343%20-1.21236,-1.462065%20-2.4112,-2.935222%20-3.61791,-4.402002%20-0.3266,0.538345%20-0.65321,1.076665%20-0.97981,1.614985%20z'%20/%3e%3cpath%20style='fill:%23ff0000;stroke-width:0.666996'%20d='m%2098.133125,209.648%20c%205.958525,-2.29342%209.654665,-2.28845%2015.102205,0.0202%209.66776,4.09727%2024.0752,1.50678%2035.58955,-6.39906%2010.57249,-7.25916%2018.45929,-20.23964%2021.87777,-36.00749%201.87559,-8.65119%202.02957,-28.69878%200.27358,-35.61733%20-1.91211,-7.53371%20-4.85846,-12.90846%20-9.75277,-17.79113%20-7.76439,-7.74592%20-17.24697,-10.95199%20-30.98303,-10.47538%20-9.47275,0.32868%20-13.57106,1.6164%20-19.56409,6.14724%20l%20-3.77925,2.8572%20-6.77369,-3.47304%20c%20-11.657003,-5.97682%20-23.318906,-8.12693%20-33.005625,-6.08525%20-13.881553,2.92584%20-24.117329,12.55167%20-28.447545,26.75234%20-1.591692,5.21984%20-1.612353,20.55314%20-0.04001,29.68928%202.306799,13.40372%207.234602,26.34346%2013.003517,34.14547%206.549061,8.85712%2016.092551,15.42461%2025.488984,17.54055%206.523745,1.4691%2015.206175,0.93035%2021.010399,-1.3037%20z'%20id='path1054'%20/%3e%3c/g%3e%3c/svg%3e",Tt="data:image/svg+xml,%3csvg%20width='100'%20height='100'%20viewBox='0%200%20100%20100'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='50'%20height='100'%20x='25'%20fill='%23232bfc'/%3e%3c/svg%3e",Ct="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='100'%20height='100'%20viewBox='0%200%20100%20100'%3e%3crect%20x='25'%20y='-50'%20width='50'%20height='80'%20rx='20'%20fill='%23232bfc'%20/%3e%3c/svg%3e",zt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='100'%20height='100'%20viewBox='0%200%20100%20100'%3e%3ccircle%20cx='50'%20cy='50'%20r='40'%20fill='%23232bfc'%20/%3e%3ccircle%20cx='42'%20cy='35'%20r='8'%20fill='white'%20/%3e%3ccircle%20cx='62'%20cy='35'%20r='8'%20fill='white'%20/%3e%3ccircle%20cx='42'%20cy='32'%20r='3'%20fill='black'%20/%3e%3ccircle%20cx='62'%20cy='32'%20r='3'%20fill='black'%20/%3e%3c/svg%3e",Ht="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='100'%20height='100'%20viewBox='0%200%20100%20100'%3e%3crect%20x='25'%20y='50'%20width='50'%20height='80'%20rx='20'%20fill='%23232bfc'%20/%3e%3ccircle%20cx='42'%20cy='60'%20r='8'%20fill='white'%20/%3e%3ccircle%20cx='62'%20cy='60'%20r='8'%20fill='white'%20/%3e%3ccircle%20cx='42'%20cy='60'%20r='3'%20fill='black'%20/%3e%3ccircle%20cx='62'%20cy='60'%20r='3'%20fill='black'%20/%3e%3c/svg%3e",Nt="data:image/svg+xml,%3csvg%20viewBox='0%200%20100%20100'%20width='100'%20height='100'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23232bfc'%20d='M%200%2075%20Q%200%200%2075%200%20L%2075%2050%20Q%2050%2050%2050%2075%20L%200%2075'%20transform='rotate(90%2050%2050)%20translate(25%2025)'%3e%3c/path%3e%3c/svg%3e";/**
 * @license lucide-svelte v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},Dt=Bt;var Rt=$e("<svg><!><!></svg>");function oe(e,t){const i=K(t,["children","$$slots","$$events"]),r=K(i,["name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","$$props"]);F(t,!1);let n=ne(t,"color",0,"currentColor"),l=ne(t,"size",0,24),o=ne(t,"strokeWidth",0,2),u=ne(t,"absoluteStrokeWidth",0,!1);U();var c=de(e,!0,Rt),p=Y(c),g=L(p);gt(c,()=>[Dt,r,{width:l()},{height:l()},{stroke:n()},{"stroke-width":u()?Number(o())*24/Number(l()):o()},{class:`lucide-icon lucide lucide-${t.name} ${i.class??""}`}],!1,""),xt(p,()=>t.iconNode,1,(f,h,k)=>{let _=()=>te(te(h))[0],x=()=>te(te(h))[1];var y=C(f),d=T(y);Lt(d,_,!0,(v,I)=>{vt(v,()=>[x()],"")}),M(f,y)},null),J(g,t.children,{},null),fe(e,c),q()}function Ot(e,t){const i=K(t,["children","$$slots","$$events"]);F(t,!1);const r=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"m14 16-4-4 4-4"}]];U();var n=C(e),l=T(n);oe(l,ae({name:"circle-chevron-left"},()=>i,{iconNode:r,children:(o,u)=>{var c=C(o),p=T(c);J(p,t.children,{},null),M(o,c)}})),M(e,n),q()}function Yt(e,t){const i=K(t,["children","$$slots","$$events"]);F(t,!1);const r=[["circle",{cx:"12",cy:"12",r:"10"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9"}]];U();var n=C(e),l=T(n);oe(l,ae({name:"circle-pause"},()=>i,{iconNode:r,children:(o,u)=>{var c=C(o),p=T(c);J(p,t.children,{},null),M(o,c)}})),M(e,n),q()}function jt(e,t){const i=K(t,["children","$$slots","$$events"]);F(t,!1);const r=[["polygon",{points:"6 3 20 12 6 21 6 3"}]];U();var n=C(e),l=T(n);oe(l,ae({name:"play"},()=>i,{iconNode:r,children:(o,u)=>{var c=C(o),p=T(c);J(p,t.children,{},null),M(o,c)}})),M(e,n),q()}function Wt(e,t){const i=K(t,["children","$$slots","$$events"]);F(t,!1);const r=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}],["path",{d:"M3 3v5h5"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"}],["path",{d:"M16 16h5v5"}]];U();var n=C(e),l=T(n);oe(l,ae({name:"refresh-ccw"},()=>i,{iconNode:r,children:(o,u)=>{var c=C(o),p=T(c);J(p,t.children,{},null),M(o,c)}})),M(e,n),q()}const Xt=300,Kt=60,Xe="none";function qt(e){return Array.isArray(e)?e:[e]}function Q(e,t,i){return e.addEventListener(t,i),()=>e.removeEventListener(t,i)}function Ft(e,t){return t.filter(i=>e.pointerId!==i.pointerId)}function ie(e,t,i,r,n){e.dispatchEvent(new CustomEvent(`${t}${n}`,{detail:{event:i,pointersCount:r.length,target:i.target}}))}function Qt(e,t,i,r,n,l=Xe){t.style.touchAction=qt(l).join(" ");let o=[];function u(p){o.push(p),ie(t,e,p,o,"down"),r==null||r(o,p);const g=p.pointerId;function f(d){g===d.pointerId&&(o=Ft(d,o),o.length||h(),ie(t,e,d,o,"up"),n==null||n(o,d))}function h(){k(),_(),x(),y()}const k=Q(t,"pointermove",d=>{o=o.map(v=>d.pointerId===v.pointerId?d:v),ie(t,e,d,o,"move"),i==null||i(o,d)}),_=Q(t,"lostpointercapture",d=>{f(d)}),x=Q(t,"pointerup",d=>{f(d)}),y=Q(t,"pointerleave",d=>{o=[],h(),ie(t,e,d,o,"up"),n==null||n(o,d)})}const c=Q(t,"pointerdown",u);return{destroy:()=>{c()}}}function Vt(e,t){const i={timeframe:Xt,minSwipeDistance:Kt,touchAction:Xe,composed:!1,...t},r="swipe";let n,l,o,u;function c(g,f){l=f.clientX,o=f.clientY,n=Date.now(),g.length===1&&(u=f.target)}function p(g,f){if(f.type==="pointerup"&&g.length===0&&Date.now()-n<i.timeframe){const h=f.clientX-l,k=f.clientY-o,_=Math.abs(h),x=Math.abs(k);let y=null;_>=2*x&&_>i.minSwipeDistance?y=h>0?"right":"left":x>=2*_&&x>i.minSwipeDistance&&(y=k>0?"bottom":"top"),y&&e.dispatchEvent(new CustomEvent(r,{detail:{direction:y,target:u}}))}}return i.composed?{onMove:null,onDown:c,onUp:p}:Qt(r,e,null,c,p,i.touchAction)}function Gt(){window.location.reload()}var Zt=pe('<h1 class="text-6xl font-bold">Game Over!</h1>'),Jt=pe('<button class="absolute top-0 right-0 md:mt-4 md:mr-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded flex items-center" title="You can also pause/unpause the game by pressing &quot;p&quot;"><!></button>'),Ut=pe('<main class="flex flex-col items-center justify-center h-screen overflow-hidden relative"><canvas></canvas> <!> <p> </p> <p> </p></main> <!> <a class="absolute top-12 right-0 md:mt-4 md:mr-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" href="/"><!></a> <button class="absolute top-24 right-0 md:mt-4 md:mr-4 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"><!></button>',!0);function l0(e,t){F(t,!0);const i={};ht(i);const r=()=>pt(mt,"$page",i);let n,l,o,u=X(!1),c=X(0),p=X(0),g=X(!1),f;const h=r().url.searchParams.get("bg_color")||"#000000",k=r().url.searchParams.get("snake_color")||"#00ff00",_=r().url.searchParams.get("food_color")||"#ff0000",x=parseInt(r().url.searchParams.get("speed")||"5"),y=r().url.searchParams.get("border_color")||"#ffffff",d=parseInt(r().url.searchParams.get("game_height")||"30"),v=parseInt(r().url.searchParams.get("game_width")||"30"),I=r().url.searchParams.get("simple_view")=="on",E=["#d4f4dd","#85e090"],s=15;function R(m){n=m.detail.direction,m.detail.target,n=="top"&&f!="bottom"?f="top":n=="bottom"&&f!="top"?f="bottom":n=="left"&&f!="right"?f="left":n=="right"&&f!="left"&&(f="right"),console.log(n,f)}H(p,Me(parseInt(localStorage.getItem("highScore")||"0"))),ct(()=>{const m=l.getContext("2d");let B=new Image,$=new Image,z=new Image,D=new Image,W=new Image,Ie=new Image;if(B.src=Mt,$.src=Tt,z.src=Ct,D.src=zt,W.src=Ht,Ie.src=Nt,l.height=s*d,l.width=s*v,m){let Ge=function(){if(!P(u)){const a=w[0];let b={x:a.x,y:a.y};switch(f){case"top":b.y-=s;break;case"bottom":b.y+=s;break;case"left":b.x-=s;break;case"right":b.x+=s;break}w.unshift(b),w.pop()}},ee=function(a){(a.key=="ArrowUp"||a.key=="w")&&f!="bottom"?f="top":(a.key=="ArrowDown"||a.key=="s")&&f!="top"?f="bottom":(a.key=="ArrowLeft"||a.key=="a")&&f!="right"?f="left":(a.key=="ArrowRight"||a.key=="d")&&f!="left"&&(f="right")},Ee=function(){P(u)?(document.addEventListener("keydown",ee),H(u,!1)):(document.removeEventListener("keydown",ee),H(u,!0))},w=[{x:Math.floor(l.width/2/s)*s,y:Math.floor(l.height/2/s)*s}],O={x:Math.floor(Math.random()*l.width/s)*s,y:Math.floor(Math.random()*l.height/s)*s};H(c,w.length-1),document.addEventListener("keydown",a=>{a.key=="p"&&Ee()}),o.addEventListener("click",Ee),document.addEventListener("keydown",ee),setInterval(()=>{Ge();for(let a=1;a<w.length;a++)w[a].x==w[0].x&&w[a].y==w[0].y&&H(g,!0);if((w[0].x<0||w[0].x>=l.width||w[0].y<0||w[0].y>=l.height)&&H(g,!0),P(g)){document.removeEventListener("keydown",ee);return}if(I){m.fillStyle=h,m.fillRect(0,0,l.width,l.height),m.fillStyle=_,m.fillRect(O.x,O.y,s,s),m.strokeStyle=y,m.lineWidth=.3;for(let a=0;a<l.width;a+=s)for(let b=0;b<l.height;b+=s)m.strokeRect(a,b,15,15);m.fillStyle=k,w.forEach(a=>{m.fillRect(a.x,a.y,s,s)})}else{for(let a=0;a<l.width;a+=15){for(let b=0;b<l.height;b+=15)(a+b)%2==0?(m.fillStyle=E[0],m.fillRect(a,b,15,15)):(m.fillStyle=E[1],m.fillRect(a,b,15,15));m.drawImage(B,O.x-5,O.y-5,s+10,s+10)}w.forEach((a,b)=>{let Se=0;const S=w[b-1],A=w[b+1];function Ze(){if(w.length==1){if(f=="top")return 0;if(f=="bottom")return 180;if(f=="left")return 90;if(f=="right")return 270;if(f==null)return 0}return b==0?A.x>a.x?270:A.x<a.x?90:A.y>a.y?0:180:b==w.length-1?S.x>a.x?90:S.x<a.x?270:S.y>a.y?180:0:A.x==S.x?0:A.y==S.y||(A.x<a.x||S.x<a.x)&&(A.y<a.y||S.y<a.y)?90:(A.x>a.x||S.x>a.x)&&(A.y>a.y||S.y>a.y)?270:(A.x<a.x||S.x<a.x)&&(A.y>a.y||S.y>a.y)?0:(A.x>a.x||S.x>a.x)&&(A.y<a.y||S.y<a.y)?180:0}Se=Ze(),m.save(),m.translate(a.x+s/2,a.y+s/2),m.rotate(Se*Math.PI/180),w.length==1?m.drawImage(D,-s/2,-s/2,s,s):b==w.length-1?m.drawImage(z,-s/2,-s/2,s,s):b==0?m.drawImage(W,-s/2,-s/2,s,s):(A.x-a.x)*(a.y-S.y)!=(a.x-S.x)*(A.y-a.y)?m.drawImage(Ie,-s/2,-s/2,s,s):m.drawImage($,-s/2,-s/2,s,s),m.restore()})}w[0].x==O.x&&w[0].y==O.y&&(O={x:Math.floor(Math.random()*l.width/s)*s,y:Math.floor(Math.random()*l.height/s)*s},w.push({x:w[0].x,y:w[0].y}),H(c,w.length-1)),P(c)>P(p)&&(H(p,Me(P(c))),localStorage.setItem("highScore",P(p).toString()))},860/x)}});var ge=et(e,!0,Ut),ve=T(ge),_e=Y(ve);Te(_e,m=>l=m,()=>l);var we=L(L(_e,!0)),ye=L(L(we,!0)),Ke=Y(ye),qe=L(L(ye,!0)),Fe=Y(qe),xe=L(L(ve,!0)),be=L(L(xe,!0)),Qe=Y(be),ke=L(L(be,!0)),Ve=Y(ke);j(()=>{Ce(Ke,`Score: ${ze(P(c))}`),Ce(Fe,`High score: ${ze(P(p))}`)}),Pt(Ae.body,m=>Vt(m)),ut("swipe",Ae.body,R,!1),ce(we,()=>P(g),m=>{var B=de(m,!0,Zt);fe(m,B)},null),ce(xe,()=>!P(g),m=>{var B=de(m,!0,Jt);Te(B,z=>o=z,()=>o);var $=Y(B);ce($,()=>P(u),z=>{var D=C(z),W=T(D);jt(W,{}),M(z,D)},z=>{var D=C(z),W=T(D);Yt(W,{}),M(z,D)}),fe(m,B)},null),Ot(Qe,{}),ke.__click=[Gt],Wt(Ve,{}),M(e,ge),q()}dt(["click"]);export{l0 as component};
